# 1. 팀원 정보
    1.1 팀원 정보
        팀장 : 박예분
        팀원 : 황유경

    1.2 업무 분담 내역
     : 지라(Jira)를 이용하여 해야 할 일, 진행 중, 완료된 내역을 수시로 확인했고  기본기능 구성, CSS구현, 부가기능 순으로 우선순위를 나누어 진행하였습니다.
    
<img src="./jira.JPG">

        박예분 
            - ERD 설계 
            - Django 모델. serializer 구성
            - Django URL, Views 등 백엔드 기본 기능 구현
                로그인, 로그아웃, 회원가입, 영화 정보 조회 및 저장, 리뷰 및 스레드 작성 및 수정 기능 등 
            - Vue,Django : 로그인 사용자, 게시글 작성자만 접근 가능하도록 권한 설정 
            - CSS 커뮤니티 페이지, 로그인, 회원가입 페이지 작업 


        황유경 
            - ERD 설계 
            - Vue 화면 전반 컴포넌트 구성 및 구현 
                로그인, 로그아웃, 메인페이지, 영화 목록 조회 페이지, 검색화면, 리뷰 및 스레드 작성 페이지 구현 
            - Vue API, 비동기 방식을 활용한 데이터 수집 및 Django서버 저장
            - Vue에서 Django서버로부터 데이터 가져와 각 화면에 출력 
            - 유튜브 검색 기능 추가 구현
            - CSS 메인페이지, 상세정보 페이지, 검색 결과 페이지 작업

# 2. 목표 서비스 구현 및 실제 구현 정도

    2.1 목표 
    : TMDB 영화 데이터를 기반으로 영화 정보 조회 및 추천해주는 기능을 제공합니다. 또한, 각 영화에 대한 리뷰 게시글이나 
        여러 사람들끼리 소통하며 좋아하는 영화에 대해 소통할 수 있는 커뮤니티 게시판을 구현합니다. 

    2.2 실제 구현 정도 : 
    : API 요청으로 TMDB로부터 데이터를 받아와 영화 정보를 조회할 수 있습니다. 커뮤니티에서는 각 영화에 대한 리뷰 게시글 작성이 가능하고, 
        그 게시글에 트위터의 타래 기능 처럼 대댓글 형식의 쓰레드 작성 기능도 함께 제공됩니다. 사용자는 이 쓰레드 항목을 이용하여 
        메인 페이지에서 쓰레드가 가장 많은 순으로 영화를 추천받을 수 있고, 그 외에도 현재 상영작, TMDB 평점이 높은 순서, 
        투표수가 많은 순서대로 영화를 추천받을 수 있도록 구현하였습니다. 또한 추가기능으로 유튜브 API를 이용하여 
        실시간으로 검색결과를 받아 볼 수 있는 페이지도 구현하였습니다. 


# 3. ERD(데이터베이스 모델링 설계 )
    3.1 ERD 개요 
    : User모델, Community review, thread 모델, Movie모델, Genre모델을 만들어 사용하였습니다. 
        User-review (작성자-게시글 관계 , 1:N)
        review-thread (영화 리뷰 게시글 - 게시글의 댓글, 1:N)
        Movie - review (영화에 대한 리뷰, 1:N)
        Movie - Genre (N:M) 
        으로, 관계를 설정하고 ERD를 작성하고 Django 모델을 작성하였습니다.

<img src="./ERD.JPG">

    3.2 컴포넌트 구조


<img src="./component.JPG">


# 4. 영화 추천 알고리즘에 대한 기술적인 설명 

    4.1 영화 추천 알고리즘 : 스레드 많은 순, 평점이 높은 순, 투표자가 많은 순 

        4.1.1. 작성된 스레드가 많은 순으로 추천 

            - Thread 모델에 Review모델을 외래키로 참조하고, 작성자 정보를 저장하기 위해 user필드로
                Django의 AUTH_USER_MODEL을 외래키로 참조 

            -  Django에서 '스레드와 연결된 리뷰, 리뷰와 연결된 영화' 의 관계를 활용하여 영화에 달린 스레드 개수 카운트
            - 스레드를 작성하면 장고 서버에 저장되고, filter 를 이용하여 현재 영화에 연결된 리뷰에 대한 모든 스레드 개수를
                카운트하여 업데이트

            - Vue에서 Django서버로 Get요청을 하여 영화에 대한 스레드 개수를 가져와 computed 속성과 toSorted를 이용하여 
                지속적으로 스레드가 많은 수부터 적은 수로 내림차순 정렬 하고 그 중 상위 10개의 영화를 출력해 
                사용자에게 추천해 주는 추천 알고리즘을 구현

        4.1.2 평점이 높은 순으로 추천

            - TMDB로 받아온 데이터 중 vote_average 속성을 이용하여 평점이 높은 순부터 낮은 순으로 toSorted를 이용하여 정렬

            - 상위 10개 영화 추천

        4.1.3 투표자가 많은 순으로 추천

            - TMDB로 받아온 데이터 중 vote_count 속성을 이용하여 평점이 높은 순부터 낮은 순으로 toSorted를 이용하여 정렬

            - 상위 10개 영화 추천


# 5. 서비스 대표 기능

    5.1 입소문 내기, 타래 작성하기

        : 입소문을 타고 유명해지는 여러 콘텐츠를 모티브로 한 기능

        - 영화 상세페이지에서 입소문 내기 버튼을 클릭하면 게시글을 작성할 수 있는 폼이 나오고, 작성을 완료하면 커뮤니티 페이지에 눈모양 아이콘이 생성
        - 눈 모양 아이콘이 각각 하나의 영화 리뷰를 나타냄
        - 눈 모양 이이콘을 클릭하면 타래를 작성할 수 있고, 리뷰 제목을 클릭하면 아래로 이제까지 작성했던 타래들이 연결되어 보여짐
        - 각 리뷰나 타래의 수정은 로그인이 되어있고, 각 게시글의 작성자만 가능함
        - 타래가 가장 긴 영화는 메인 페이지의 가장 상단인 오늘의 추천작에 순위 순으로 나열 됨


    5.2 영화 리스트 조회

        - 메인 화면에서 추천영화, 현재 상영중인 영화, 평점이 높은 영화, 투표자수가 많은 영화를 한 눈에 확인 할 수 있고,
            각각의 영화카드를 클릭하면 상세페이지로 상세 정보 확인 가능
        

    5.3  상세페이지의 실시간 유튜브 검색 기능 
        
        - 각 영화를 클릭하면 유튜브 검색이 가능한 검색바가 나오고, 검색을 하면 실시간으로 유튜브 내용을 받아올 수 있음
        - 썸네일 이미지를 누르면 해당 영상의 링크로 이동, 메인 예고편이나 리뷰 등을 검색해서 찾아 볼 수 있음


# 6. 기타(느낀점 ,후기)

    6.1 이슈 발생

        6.1.1 데이터베이스 모델 설계 변경
            : 다른 모델들을 다 구현하고나서 마지막에 장르 모델에 대한 모델의 기본키를 변경하려고 했더니, key mismatching 이라는 오류가 발생
            장르 모델의 데이터를 저장하면 영화 데이터가 vue 화면에 나오지 않는 문제가 있었음.

        6.1.2 Vue 라우터링크 사용
            : Vue에서 라우터 링크로 네비게이션 바를 구성하는데, 라우터 링크에 대한 이해가 부족하여 한 화면에 같은 내용이 지속적으로 출력되는 이슈가 발생
            => RotuerLink는 index.js 에 명시해놓은 url의 컴포넌트가 화면에 나타나는 것이여서, url을 이동할 때 주로 이용한다는 개념을 숙지

        6.1.3 권한 관련 이슈
            : 서버를 처음 켰을 때나 데이터를 받아올 때 401 에러가 뜨는 경우가 많았음
            => 보통 .env 파일의 누락이나 store에서 데이터를 받아오고 있는데 다른 컴포넌트에서 store을 명시하지 않아서 생겼던 경우가 대부분이여서
                나중에는 401에러가 뜨는 경우가 많이 감소함 

        6.1.4 axios요청 POST 
            : Django 서버에 POST 요청 시 모델에 명시된 데이터 필드들과 타입이나 옵션이 맞지 않아 500에러, 400에러 등 타입이 맞지 않다는 오류가 많이 발생함
              예시로, IntegerField의 기본 설정이 null을 허용하지 않았는데, 뷰에서 post 요청을 할 때 null 값을 주어서 지속적으로 오류가 발생
            => null값을 허용하지 않는 필드에 null=True 옵션을 추가해주어 해결
        
            

    박예분 : 

        왜 모델 설계를 초반에 디테일하게 기획해야 하는지 여실히 느낄 수 있었던 경험이었습니다. 그리고 모델 설계가 자세하게 이루어지려면 하고자 하는 바가 보다
        명확해야한다는 것도 체득하게 되었습니다. 초반에 어떤 모델이 있는지만 정확히 해놓고 필드는 어차피 자주 바뀔 것이라 예상했었는데, 정말 필드가 자주 바뀌어서
        모델을 이용해 데이터를 받고, 생성하고, 조회하고, 수정하는 모든 과정을 계속해서 업데이트해야만 했습니다. 그러면서 다음 프로젝트를 할때는 구현하고 싶은 기능에
        맞춰 모델을 미리 거의 확정해 정의해놔야 겠다고 생각했던 것 같습니다.

        또한 결정적인 하나의 기능을 구현하려다 보니 상대적으로 수집한 데이터가 부실하거나 어플리케이션 서비스 안에서 제공하는 콘텐츠가 다양하지 않다는 생각이 들어
        후반에는 많이 아쉬웠던 것 같습니다. 초기 기획단계에서 어디서부터 어디까지 현실적으로 구현해낼 수 있는지를 올바르게 판단하는 것도 중요하지만, 너무 보수적으로
        생각해서 완성도가 떨어지거나 초기에 시간을 낭비하지 않는 것도 중요하다고 느꼈습니다.
        
        한편으로는 해당 경험을 바탕으로 다음에 있을 프로젝트에서 많이 보완할 수 있을 것 같아서 정말 도움이 많이 된 경험이었다고 생각합니다. 또한 차분하게 서로
        설득하고 의견공유할 수 있게 도와준 팀원을 보며 앞으로 있을 협업에서도 어떤 자세로 임해야하는지도 많이 배울 수 있었습니다.



    황유경 :

         처음 모델 설계부터, 컴포넌트 구성까지 원래는 스켈레톤 코드로 주어지던 작업들을 스스로 처음부터 진행해보게 되었는데, 가장 기초적인 작업이라고 생각했던
        모델 설계가 중요하다느 사실을 알게 되었습니다. 중간에 모델의 단순 필드를 추가하는 것은 어렵지 않았지만, 외래키나 다대다 관계로 참조되고 있던 모델을 바꾸게 되면
        그에 따라서 생기는 이슈들이 많다는 것을 느꼈기 때문입니다. 또한, 프론트와 백엔드로 나누어져 있는 것 같지만 프론트를 작업한다고해서 무조건 Vue 쪽의 작업만 하게 되는것은
        아니라는 것을 알게 되었습니다. 오류가 발생했을 때, 장고서버의 오류일 수도 있고, 뷰의 오류일 수도 있어, 두 프로젝트를 자주 오가며 무엇이 오류인지 살펴보아야했기 때문입니다.
        이번 프로젝트를 진행하면서 지금까지 배웠던 내용 axios 요청이나 여러 메소드들을 사용해 볼 수 있어서 좋았고, 실습을 진행할 떄는 이해가 가지 않아도 그냥 넘어갔던 부분들이 있었는데
        그런 부분들이 에러로 나타난다는 것도 알게 되었습니다. 그리고 아무리 이제까지 기술은 기능 구현이 전부라고 생각했는데, 웹 페이지를 구현하다 보니 CSS적인 요소, 디자인 적인 부분이
        아주 중요하다는 것도 알게 되었습니다. 
        
         이번 프로젝트를 진행하면서 프로젝트는 시간 관리가 중요하다는 것도 알게 되었습니다. 처음에는 널널해보였던 시간이 중간에 아주 사소한 오류들로 3~4시간이 소요되는 것을 보고, 돌발
         상황에 대비하여 시간적인 여유를 둘 수 있도록 해야겠다고 생각했습니다. 내가 하나의 웹 페이지를 제작할 수 있을까? 라는 생각으로 시작했던 프로젝트지만 페어와 함께 모르는 부분을 
         확인하고, 내가 오랜 시간을 투자해도 해결할 수 없었던 오류를 함께 발견하고 해결해나가는 과정에서 실습에서는 배울 수 없었던 더 많은 지식들과 경험들을 할 수 있었던 것 같습니다. 

